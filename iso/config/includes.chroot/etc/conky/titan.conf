-- Titan OS V7.0.3 — Conky Desktop Widget
-- Displays system status, network, and operational readiness

conky.config = {
    alignment = 'top_right',
    background = true,
    double_buffer = true,
    no_buffers = true,
    
    -- Window
    own_window = true,
    own_window_type = 'desktop',
    own_window_transparent = false,
    own_window_argb_visual = true,
    own_window_argb_value = 180,
    own_window_colour = '0a0e17',
    own_window_hints = 'undecorated,below,sticky,skip_taskbar,skip_pager',
    
    -- Size & Position
    minimum_width = 280,
    maximum_width = 280,
    minimum_height = 400,
    gap_x = 20,
    gap_y = 20,
    border_width = 1,
    border_inner_margin = 12,
    border_outer_margin = 4,
    
    -- Fonts
    use_xft = true,
    font = 'Cantarell:size=10',
    override_utf8_locale = true,
    
    -- Colors
    default_color = '667788',
    color0 = '00d4ff',   -- Cyan accent
    color1 = '00ff88',   -- Green (good)
    color2 = 'ff6644',   -- Red (alert)
    color3 = 'ffaa00',   -- Yellow (warning)
    color4 = '334455',   -- Dim separator
    
    -- Timing
    update_interval = 3,
    cpu_avg_samples = 4,
    net_avg_samples = 2,
    
    -- Drawing
    draw_shades = false,
    draw_outline = false,
    draw_borders = false,
    draw_graph_borders = false,
};

conky.text = [[
${color0}${font Cantarell:bold:size=13}TITAN OS${font}${color} ${alignr}${color4}V7.0.3${color}
${color4}${hr 1}${color}

${color0}SYSTEM${color}
${color4}CPU${color}  ${cpu cpu0}% ${alignr}${cpubar cpu0 6,140}
${color4}RAM${color}  ${memperc}% ${alignr}${membar 6,140}
${color4}SSD${color}  ${fs_used_perc /}% ${alignr}${fs_bar 6,140 /}
${color4}UP ${color} ${alignr}${uptime_short}

${color0}NETWORK${color}
${if_existing /proc/net/route}${color1}● ONLINE${color}${else}${color2}● OFFLINE${color}${endif}${alignr}${color4}${addr eth0}${color}
${color4}↑${color} ${upspeed eth0}${alignr}${color4}↓${color} ${downspeed eth0}
${color4}DNS${color}${alignr}${nameserver 0}

${color0}PROCESSES${color}
${color4}Total${color} ${processes}${alignr}${color4}Running${color} ${running_processes}
${color4}${top name 1}${alignr}${top cpu 1}%${color}
${color4}${top name 2}${alignr}${top cpu 2}%${color}
${color4}${top name 3}${alignr}${top cpu 3}%${color}

${color0}SECURITY${color}
${if_existing /opt/titan/state/.first-boot-complete}${color1}● System Ready${color}${else}${color3}● First Boot Pending${color}${endif}
${if_existing /sys/module/titan_hw}${color1}● HW Shield Active${color}${else}${color4}○ HW Shield Standby${color}${endif}
${if_existing /proc/net/xt_recent/DEFAULT}${color1}● Firewall Active${color}${else}${color4}○ Firewall Check${color}${endif}

${color4}${hr 1}${color}
${color4}${font Cantarell:size=8}${time %H:%M  |  %A, %B %d}${font}${color}
]];
