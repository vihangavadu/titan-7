# ═══════════════════════════════════════════════════════════════════════════
# TITAN V7.5 SINGULARITY — Master Configuration
# ═══════════════════════════════════════════════════════════════════════════
# This file is sourced by all TITAN modules at startup.
# Edit values below, then restart the TITAN service or re-launch the GUI.
#
# Location: /opt/titan/config/titan.env
# Loaded by: titan_env.py → all core modules
#
# CONFIGURATION STATUS:
#   [AUTO]     = Works out of the box, no setup needed
#   [REQUIRED] = You MUST set this before the feature works
#   [OPTIONAL] = Feature works without it, but better with it
#
# Any value starting with REPLACE_WITH_ is automatically SKIPPED by the
# config loader. The system will use fallback/offline mode for that feature.
# ═══════════════════════════════════════════════════════════════════════════

# ── 1. [OPTIONAL] CLOUD BRAIN (vLLM Cognitive Core) ──────────────────────
# Self-hosted vLLM server with OpenAI-compatible API.
# Used for: CAPTCHA solving, risk assessment, conversation generation.
# WITHOUT THIS: TITAN falls back to rule-based heuristics (still functional).
#
# Setup:  docker compose -f titan_cloud_brain/docker-compose.yml up -d
# Test:   curl http://<YOUR_HOST>:8000/v1/models
TITAN_CLOUD_URL=https://api.openai.com/v1
TITAN_API_KEY=sk-demo-key-for-testing-replace-with-real
TITAN_MODEL=gpt-3.5-turbo

# ── 2. [REQUIRED] PROXY CONFIGURATION ────────────────────────────────────
# Residential proxy pool — CRITICAL for operations.
# You MUST configure either a proxy provider or a custom pool file.
#
# Option A: Provider credentials (brightdata, oxylabs, smartproxy, iproyal)
TITAN_PROXY_PROVIDER=demo
TITAN_PROXY_USERNAME=demo-user
TITAN_PROXY_PASSWORD=demo-pass
#
# Option B: Custom pool file (add socks5://user:pass@host:port entries)
# Edit this file directly with your proxy list:
TITAN_PROXY_POOL_FILE=/opt/titan/state/proxies.json

# ── 3. [OPTIONAL] LUCID VPN (VLESS + Reality + Tailscale) ────────────────
# Self-hosted VPN with residential exit nodes.
# WITHOUT THIS: System uses proxy mode (Section 2 above).
# Set LUCID_VPN_ENABLED=1 only after completing VPN setup wizard.
#
LUCID_VPN_ENABLED=0
#
# VPS Relay (Xray-core VLESS+Reality) — set via titan-vpn-setup wizard
TITAN_VPN_SERVER_IP=192.168.1.100
TITAN_VPN_SERVER_PORT=443
TITAN_VPN_UUID=12345678-1234-1234-1234-123456789abc
TITAN_VPN_PUBLIC_KEY=demo-public-key-replace
TITAN_VPN_SHORT_ID=demo-short-id
TITAN_VPN_PRIVATE_KEY=demo-private-key-replace
TITAN_VPN_SNI=www.microsoft.com
#
# Tailscale (mesh backhaul) — set via titan-vpn-setup wizard
TITAN_TAILSCALE_AUTH_KEY=tskey-auth-demo-key-replace
TITAN_TAILSCALE_EXIT_NODE=100.101.102.103
#
# DNS (auto-configured, change only if needed)
TITAN_DNS_PRIMARY=1.1.1.1
TITAN_DNS_SECONDARY=8.8.8.8

# ── 4. [OPTIONAL] PAYMENT PROCESSOR CREDENTIALS ──────────────────────────
# Used by Cerberus SilentValidationEngine for $0 auth / SetupIntent checks.
# WITHOUT THIS: Cerberus still validates via BIN lookup + heuristics.
# Only set these if you have your own merchant accounts.
#
# Stripe
TITAN_STRIPE_SECRET_KEY=sk_live_REPLACE_WITH_STRIPE_KEY
TITAN_STRIPE_PUBLISHABLE_KEY=pk_live_REPLACE_WITH_STRIPE_PK
#
# PayPal
TITAN_PAYPAL_CLIENT_ID=REPLACE_WITH_PAYPAL_CLIENT_ID
TITAN_PAYPAL_SECRET=REPLACE_WITH_PAYPAL_SECRET
TITAN_PAYPAL_MODE=live
#
# Braintree
TITAN_BRAINTREE_MERCHANT_ID=REPLACE_WITH_BT_MERCHANT_ID
TITAN_BRAINTREE_PUBLIC_KEY=REPLACE_WITH_BT_PUBLIC_KEY
TITAN_BRAINTREE_PRIVATE_KEY=REPLACE_WITH_BT_PRIVATE_KEY

# ── 5. [AUTO] eBPF NETWORK SHIELD ────────────────────────────────────────
# Automatically loaded by build_ebpf.sh on boot. No setup needed.
TITAN_EBPF_ENABLED=1
TITAN_EBPF_DNS_WHITELIST=1.1.1.1,8.8.8.8
TITAN_EBPF_QUIC_PROXY_PORT=8443
TITAN_EBPF_TCP_FINGERPRINT=win11_chrome

# ── 6. [AUTO] HARDWARE SHIELD ────────────────────────────────────────────
# Kernel module settings. Loaded by titan-first-boot. No setup needed.
TITAN_HW_SHIELD_ENABLED=1
TITAN_HW_AUTO_HIDE_MODULE=1
TITAN_HW_DEFAULT_PROFILE=us_windows_desktop

# ── 7. [AUTO] TRANSACTION MONITOR (24/7 Capture) ─────────────────────────
# Listens for payment events from the TX Monitor browser extension.
# Auto-starts when GUI launches. No setup needed.
TITAN_TX_MONITOR_PORT=7443
TITAN_TX_MONITOR_AUTOSTART=1
TITAN_TX_DB_PATH=/opt/titan/data/tx_monitor/transactions.db

# ── 8. [AUTO] AUTO-DISCOVERY SCHEDULER ────────────────────────────────────
# Finds new easy/2D/Shopify targets once per day via Google dorking.
# Auto-probes, classifies by 3DS bypass potential, adds to database.
# No setup needed. Change DISCOVERY_RUN_HOUR to adjust schedule.
TITAN_DISCOVERY_AUTOSTART=1
TITAN_DISCOVERY_RUN_HOUR=3
TITAN_DISCOVERY_ENGINE=google
TITAN_DISCOVERY_MAX_SITES=50

# ── 9. [AUTO] OPERATIONAL FEEDBACK LOOP ───────────────────────────────────
# TX Monitor decline data feeds back into site/BIN scoring every 30 min.
# Sites with high decline rates get flagged. Best sites surface to top.
# No setup needed.
TITAN_FEEDBACK_AUTOSTART=1
TITAN_FEEDBACK_INTERVAL_MIN=30

# ── 10. [AUTO] GENERAL ───────────────────────────────────────────────────
TITAN_PRODUCTION=1
TITAN_LOG_LEVEL=INFO
TITAN_PROFILES_DIR=/opt/titan/profiles
TITAN_STATE_DIR=/opt/titan/state
TITAN_DATA_DIR=/opt/titan/data

TITAN_MODE=KINETIC
TITAN_LOG_LEVEL=OFF
# Logging to disk is disabled; /var/log is mounted as tmpfs for full stealth.

# ── 11. [OPTIONAL] V7.6 AI ENHANCEMENT STACK ──────────────────────────
# ChromaDB vector memory, LangChain agent, and web intelligence.
# WITHOUT THIS: System uses standard Ollama inference (still functional).
#
# Vector Memory (ChromaDB) — auto-configured, no API key needed
TITAN_VECTOR_DB_PATH=/opt/titan/data/vector_db
#
# Web Intelligence — search providers (set at least one for web search)
# SerpAPI (best quality, 100 free searches/month): https://serpapi.com
SERPAPI_KEY=REPLACE_WITH_SERPAPI_KEY
#
# Serper.dev (fast, 2500 free searches): https://serper.dev
SERPER_API_KEY=REPLACE_WITH_SERPER_KEY
#
# DuckDuckGo — always available as fallback, no key needed
#
# Web intel cache TTL (hours)
TITAN_WEB_INTEL_CACHE_TTL=4

# ── 12. [OPTIONAL] V7.6 SELF-HOSTED TOOL STACK ─────────────────────────
# Self-hosted services for success rate, UX, planning, and analysis.
# WITHOUT THIS: System uses built-in heuristics (still functional).
#
# GeoIP — MaxMind GeoLite2 offline database
# Get free key: https://www.maxmind.com/en/geolite2/signup
MAXMIND_LICENSE_KEY=REPLACE_WITH_MAXMIND_KEY
#
# IP Quality — ipinfo.io token (optional, 50k free/month)
IPINFO_TOKEN=REPLACE_WITH_IPINFO_TOKEN
#
# Redis — fast inter-module state cache
TITAN_REDIS_HOST=127.0.0.1
TITAN_REDIS_PORT=6379
#
# Ntfy — push notifications
TITAN_NTFY_URL=http://127.0.0.1:8090
TITAN_NTFY_TOPIC=titan-ops
#
# Uptime Kuma — service monitoring
TITAN_UPTIME_KUMA_URL=http://127.0.0.1:3001
#
# MinIO — S3-compatible object storage
TITAN_MINIO_ENDPOINT=127.0.0.1:9000
TITAN_MINIO_ACCESS_KEY=titan
TITAN_MINIO_SECRET_KEY=REPLACE_WITH_MINIO_SECRET
#
# Fingerprint tester port
TITAN_FINGERPRINT_TEST_PORT=8787
